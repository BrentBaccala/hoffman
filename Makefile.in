
# Debugging
CFLAGS=-g -I ~/src/readline-5.0 -I /usr/include/libxml2 -DUSE_NALIMOV

# Debugging w/optimization
# CFLAGS=-g -O3 -I ~/src/readline-5.0 -I /usr/include/libxml2 -DUSE_NALIMOV

# Debugging w/optimization and profiling
# CFLAGS=-g -pg -O3 -I ~/src/readline-5.0 -I /usr/include/libxml2 -DUSE_NALIMOV

CPPFLAGS=$(CFLAGS)

hoffman: hoffman.o probe.o egtb.o
	gcc $(CFLAGS) -o hoffman $^ -L . -lreadline -lxml2 -lstdc++
	grep -Hn BREAKPOINT *.c | cut -d : -f 1-2 | sed 's/^/break /' > .gdbinit
